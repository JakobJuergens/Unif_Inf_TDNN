\subsection{CATE - Kernel Variances \& Covariances}\label{sec:CATE_cov}
\hrule
Next, we will continue by showing analogous properties in the CATE setting.
Similar to before, we will start under the assumption that the functional nuisance parameters are known a priori, to then show that the estimation of said parameters does not impact the asymptotic behavior of the estimator.

\begin{boxD}
    \begin{lem}\label{lem:CATE_omega_s}\mbox{}\\*
	Let $D = \{Z_1, \dotsc, Z_{s}\}$ be a vector of i.i.d.\ random variables generated by the setup shown in Assumption~\ref{asm:CATE_dgp}.
	Furthermore, let
	\begin{equation}
		\Omega_{s}\left(x\right)
		= \E\left[\chi_{s,0}^{2}\left(x; Z_1, \ldots,  Z_{s}\right)\right].
	\end{equation}
	Then,
	\begin{equation}
		\Omega_{s}\left(x\right)
		\lesssim \left(\mu_{0}^{1}\left(x\right) - \mu_{0}^{0}\left(x\right)\right)^2 + \frac{\overline{\sigma}^2_{\varepsilon}}{\mathfrak{p}\left(1 - \mathfrak{p}\right)} + o(1)
	\end{equation}
\end{lem}
\end{boxD}

\begin{proof}[Proof of Lemma~\ref{lem:CATE_omega_s}]\mbox{}\\*
    First, notice that we can decompose the quantity of interest in the following way.
	\begin{equation}
		\begin{aligned}
			\Omega_{s}\left(x\right)
			& = \E\left[\chi_{s,0}^{2}\left(x; Z_1, \ldots,  Z_{s}\right)\right]
            = \E_{D}\left[\left(\sum_{i = 1}^{s} \kappa\left(x; Z_{i}, D\right) m\left(Z_{i}; \eta_{0}\right)\right)^2\right]\\
            %
            & = \E_{D}\left[\sum_{i = 1}^{s}\sum_{j = 1}^{s}\kappa\left(x; Z_{i}, D\right)\kappa\left(x; Z_{j}, D\right)
            m\left(Z_{i}; \eta_{0}\right)m\left(Z_{j}; \eta_{0}\right)\right]
            = \E_{D}\left[s \kappa\left(x; Z_1, D\right)  m^2\left(Z_{1}; \eta_{0}\right)\right] \\
            %
            & = \E_{1}\left[ m^2\left(Z_{1}; \eta_{0}\right) s \E_{2:s}\left[\kappa\left(x; Z_1, D\right)\right]\right]\\
            %
            & = \E_{1}\left[\left(\mu_{0}^{1}\left(X_{1}\right) - \mu_{0}^{0}\left(X_{1}\right) + \beta\left(W_{1}, X_{1}\right)\varepsilon_{1}\right)^2 s \E_{2:s}\left[\kappa(x; Z_1, D)\right]\right]                                                                                             \\
			%
			& = \E_{1}\left[\left(\mu_{0}^{1}\left(X_{i}\right) - \mu_{0}^{0}\left(X_{1}\right)\right)^2 s \E_{2:s}\left[\kappa(x; Z_1, D)\right]\right]
			+ \E_{1}\left[\left(\beta\left(W_{1}, X_{1}\right)\varepsilon_{1}\right)^2 s \E_{2:s}\left[\kappa(x; Z_1, D)\right]\right]\\
			%
		      & =  \E_{1}\left[\left(\mu_{0}^{1}\left(X_{1}\right) - \mu_{0}^{0}\left(X_{1}\right)\right)^2 s \E_{2:s}\left[\kappa(x; Z_1, D)\right]\right]
			+ \E_{1}\left[\left(\frac{W_{1}}{\pi_{0}\left(X_1\right)} - \frac{1 - W_{1}}{1 - \pi_{0}\left(X_1\right)}\right)^2 \varepsilon_{1}^2 s \E_{2:s}\left[\kappa(x; Z_1, D)\right]\right]                                                                                               \\
			%
			& = \underbrace{\E_{1}\left[\left(\mu_{0}^{1}\left(X_{1}\right) - \mu_{0}^{0}\left(X_{1}\right)\right)^2 s \E_{2:s}\left[\kappa(x; Z_1, D)\right]\right]}_{\overset{\text{Lem \ref{lem:dem13}}}{\longrightarrow} \left(\mu_{0}^{1}\left(x\right) - \mu_{0}^{0}\left(x\right)\right)^2 \quad \text{as} \quad s \rightarrow \infty}
			+ \underbrace{\E_{1}\left[\E\left[\left(\frac{W_{1}}{\pi_{0}\left(X_1\right)} - \frac{1 - W_{1}}{1 - \pi_{0}\left(X_1\right)}\right)^2 \varepsilon_{1}^2 \, \middle| \, X_1\right] s \E_{2:s}\left[\kappa(x; Z_1, D)\right]\right]}_{(B)}
		\end{aligned}
	\end{equation}
	Continuing with the second term, marked by $(B)$, we find the following.
	\begin{equation}
		\begin{aligned}
			(B)
			& = \E_{1}\left[\E\left[\left(\frac{W_{1}}{\pi_{0}\left(X_1\right)} - \frac{1 - W_{1}}{1 - \pi_{0}\left(X_1\right)}\right)^2 \varepsilon_{1}^2 \, \middle| \, X_1\right] s \E_{2:s}\left[\kappa(x; Z_1, D)\right]\right] \\
			%
			& = \E_{1}\left[\frac{\sigma_{\varepsilon}^2(X_1) \cdot s \E_{2:s}\left[\kappa(x; Z_1, D)\right]}{\pi_{0}^2\left(X_1\right)\left(1 - \pi_{0}\left(X_1\right)\right)^2} \cdot
			\E\left[\left(W_{1}\left(1 - \pi_{0}\left(X_1\right)\right) - \left(1 - W_{1}\right)\pi_{0}\left(X_1\right)\right)^2 \, \middle| \, X_1\right] \right]                                                                    \\
		\end{aligned}
	\end{equation}
	Observe that $W_1(1-W_1) = 0$, $W_1^2 = W_1$, and $(1-W_1)^2 = 1 - W_1$, which allows us to use the following simplification.
	\begin{equation}
		\begin{aligned}
			(B)
			& = \E_{1}\left[\frac{\sigma_{\varepsilon}^2(X_1) \cdot s \E_{2:s}\left[\kappa(x; Z_1, D)\right]}{\pi_{0}^2\left(X_1\right)\left(1 - \pi_{0}\left(X_1\right)\right)^2} \cdot
			\E\left[W_{1}\left(1 - \pi_{0}\left(X_1\right)\right)^2 + \left(1 - W_{1}\right)\pi_{0}^2\left(X_1\right) \, \middle| \, X_1\right] \right]\\
			%
			& = \E_{1}\left[\frac{\sigma_{\varepsilon}^2(X_1) \cdot s \E_{2:s}\left[\kappa(x; Z_1, D)\right]}{\pi_{0}^2\left(X_1\right)\left(1 - \pi_{0}\left(X_1\right)\right)^2} \cdot \pi_{0}(X_1)\left(1 - \pi_{0}\left(X_1\right)\right) \cdot
			\left(1 - \pi_{0}\left(X_1\right) + \pi_{0}\left(X_1\right)\right)\right]\\
			%
			& = \E_{1}\left[\frac{\sigma_{\varepsilon}^2(X_1) }{\pi_{0}\left(X_1\right)\left(1 - \pi_{0}\left(X_1\right)\right)}\cdot s \E_{2:s}\left[\kappa(x; Z_1, D)\right]\right]
			\overset{\text{(Lem~\ref{lem:dem13})}}{\longrightarrow} \frac{\sigma_{\varepsilon}^2(x)}{\pi_{0}\left(x\right)\left(1 - \pi_{0}\left(x\right)\right)}
			\quad \text{as} \quad s \rightarrow \infty
		\end{aligned}
	\end{equation}
	Recombining the terms of interest, we find the desired limit bound.
	\begin{equation}
		\begin{aligned}
			\E_{1}\left[m^2\left(Z_{i}; \eta_{0}\right) s \E_{2:s}\left[\kappa(x; Z_1, D)\right]\right]
			\overset{\text{(Lem~\ref{lem:dem13})}}{\longrightarrow} \left(\mu_{0}^{1}\left(x\right) - \mu_{0}^{0}\left(x\right)\right)^2 + \frac{\sigma_{\varepsilon}^2(x)}{\pi_{0}\left(x\right)\left(1 - \pi_{0}\left(x\right)\right)}
			\quad \text{as} \quad s \rightarrow \infty
		\end{aligned}
	\end{equation}
    This gives us the desired result.
    \begin{equation}
        \Omega_{s}\left(x\right)
        \lesssim \left(\mu_{0}^{1}\left(x\right) - \mu_{0}^{0}\left(x\right)\right)^2 + \frac{\overline{\sigma}^2_{\varepsilon}}{\mathfrak{p}\left(1 - \mathfrak{p}\right)} + o(1)
    \end{equation}
\end{proof}

\begin{boxD}
    \begin{lem}\label{lem:CATE_omega_sc}\mbox{}\\*
	Let $D = \{Z_1, \dotsc, Z_{s}\}$ be a vector of i.i.d.\ random variables drawn from as described in Setup~\ref{asm:CATE_dgp}.\\
	Let $D^{\prime} = \{Z_1, \dotsc, Z_{c}, Z_{c+1}^{\prime}, \dotsc,  Z_{s}^{\prime}\}$ where $Z_{c+1}^{\prime}, \dotsc,  Z_{s}^{\prime}$ are i.i.d.\ draws from the model that are independent of $D$.
	Furthermore, let
	\begin{equation}
		\Omega_{s}^{c}\left(x\right)
		= \E\left[\chi_{s,0}\left(x; Z_1, \ldots, Z_{c}, Z_{c+1}, \ldots, Z_{s}\right) \cdot
			\chi_{s,0}\left(x; Z_1, \ldots,Z_{c}, Z_{c+1}^{\prime}, \ldots, Z_{s}^{\prime}\right)\right].
	\end{equation}
	Then,
	\begin{equation}
		\Omega_{s}^{c}\left(x\right)
		\lesssim C \left[\left(\mu_{0}^{1}\left(x\right) - \mu_{0}^{0}\left(x\right)\right)^2
		+ \frac{\overline{\sigma}^2_{\varepsilon}}{\mathfrak{p}\left(1 - \mathfrak{p}\right)}\right] + o(1).
	\end{equation}
\end{lem}
\end{boxD}


\begin{proof}[Proof of Lemma~\ref{lem:CATE_omega_sc}]
    First, we decompose the term of interest in a similar fashion to before.
	\begin{equation}
        \begin{aligned}
            \Omega_{s}^{c}\left(x\right)
		    & = \E\left[\chi_{s,0}\left(x; Z_1, \ldots, Z_{c}, Z_{c+1}, \ldots, Z_{s}\right) \cdot
			\chi_{s,0}\left(x; Z_1, \ldots,Z_{c}, Z_{c+1}^{\prime}, \ldots, Z_{s}^{\prime}\right)\right]\\
            %
            & = \E_{D, D^{\prime}}\left[
                \left(\sum_{i = 1}^{s} \kappa\left(x; Z_{i}, D\right) m\left(Z_{i}; \eta_{0}\right)\right) 
                \left(\sum_{j = 1}^{c} \kappa\left(x; Z_{j}, D^{\prime}\right) m\left(Z_{j}; \eta_{0}\right) + \sum_{j = c + 1}^{s} \kappa\left(x; Z_{j}^{\prime}, D^{\prime}\right) m\left(Z_{j}^{\prime}; \eta_{0}\right)\right)
            \right]\\
            %
            & = \underbrace{\E_{D, D^{\prime}}\left[\left(\sum_{i = 1}^{c} \kappa\left(x; Z_{i}, D\right) m\left(Z_{i}; \eta_{0}\right)\right)
            \left(\sum_{j = 1}^{c} \kappa\left(x; Z_{j}, D^{\prime}\right) m\left(Z_{j}; \eta_{0}\right)\right)\right]}_{(A)} \\
            & \quad + 2\underbrace{\E_{D, D^{\prime}}\left[\left(\sum_{i = 1}^{c} \kappa\left(x; Z_{i}, D\right) m\left(Z_{i}; \eta_{0}\right)\right)
            \left(\sum_{j = c + 1}^{s} \kappa\left(x; Z_{j}^{\prime}, D^{\prime}\right) m\left(Z_{j}^{\prime}; \eta_{0}\right)\right)\right]}_{(B)} \\
            % & \quad + \underbrace{\E_{D, D^{\prime}}\left[\left(\sum_{i = c + 1}^{s} \kappa\left(x; Z_{i}, D\right) m\left(Z_{i}; \eta_{0}\right)\right)
            % \left(\sum_{j = 1}^{c} \kappa\left(x; Z_{j}, D^{\prime}\right) m\left(Z_{j}; \eta_{0}\right)\right)\right]}_{(C)} \\
            & \quad + \underbrace{\E_{D, D^{\prime}}\left[\left(\sum_{i = c + 1}^{s} \kappa\left(x; Z_{i}, D\right) m\left(Z_{i}; \eta_{0}\right)\right)
            \left(\sum_{j = c + 1}^{s} \kappa\left(x; Z_{j}^{\prime}, D^{\prime}\right) m\left(Z_{j}^{\prime}; \eta_{0}\right)\right)\right]}_{(C)} 
        \end{aligned}
    \end{equation}
    Considering these terms one by one, we can make the following observations.
    Here, we rely on the same argument structure as in the proof of Lemma \ref{lem:omega_sc} and observations from the proof of Lemma \ref{lem:CATE_omega_s}.
    \begin{equation}
        \begin{aligned}
            (A)
            & = \E_{D, D^{\prime}}\left[\left(\sum_{i = 1}^{c} \kappa\left(x; Z_{i}, D\right) m\left(Z_{i}; \eta_{0}\right)\right)
            \left(\sum_{j = 1}^{c} \kappa\left(x; Z_{j}, D^{\prime}\right) m\left(Z_{j}; \eta_{0}\right)\right)\right] \\
			%
			& = \E_{D, D^{\prime}}\left[
				\sum_{i = 1}^{c} \sum_{j = 1}^{c} \kappa\left(x; Z_{i}, D\right)\kappa\left(x; Z_{j}, D^{\prime}\right) m\left(Z_{i}; \eta_{0}\right)m\left(Z_{j}; \eta_{0}\right)
			\right] \\
            %
			& = \frac{c}{2s-c} \cdot \E_{1}\left[m^{2}\left(Z_{1}; \eta_{0}\right) \cdot (2s-c) \cdot \E_{2:s}\left[\kappa\left(x; Z_{1}, D\right)\kappa\left(x; Z_{1}, D^{\prime}\right)\right]\right]\\
			%
            & \overset{\text{Lem \ref{lem:kernel_prod_dirac_convergence}}}{\lesssim} \frac{c}{2s-c} \cdot \left(\left(\mu_{0}^{1}\left(x\right) - \mu_{0}^{0}\left(x\right)\right)^2 + \frac{\sigma_{\varepsilon}^2(x)}{\pi_{0}\left(x\right)\left(1 - \pi_{0}\left(x\right)\right)}\right) + o(1)\\
            %
            & \leq \frac{c}{2s-c} \cdot \left(\left(\mu_{0}^{1}\left(x\right) - \mu_{0}^{0}\left(x\right)\right)^2 + \frac{\overline{\sigma}^2_{\varepsilon}}{\mathfrak{p}\left(1 - \mathfrak{p}\right)}\right) + o(1)
        \end{aligned}
    \end{equation}
	Similarly, for the second term, we can make the following observation.
	\begin{equation}
		\begin{aligned}
			(B) 
			& = \E_{D, D^{\prime}}\left[\left(\sum_{i = 1}^{c} \kappa\left(x; Z_{i}, D\right) m\left(Z_{i}; \eta_{0}\right)\right)
            \left(\sum_{j = c + 1}^{s} \kappa\left(x; Z_{j}^{\prime}, D^{\prime}\right) m\left(Z_{j}^{\prime}; \eta_{0}\right)\right)\right] \\
			%
			& = \E_{D,D^{\prime}}\left[\sum_{i = 1}^{c} \sum_{j = c + 1}^{s}\kappa\left(x; Z_{i}, D\right)\kappa\left(x; Z_{j}^{\prime}, D^{\prime}\right) 
			m\left(Z_{i}; \eta_{0}\right)m\left(Z_{j}^{\prime}; \eta_{0}\right)\right]\\
			%
			& = \E_{D, D^{\prime}}\left[c (s-c) \kappa\left(x; Z_{1}, D\right)\kappa\left(x; Z_{c+1}^{\prime}, D^{\prime}\right) 
			m\left(Z_{1}; \eta_{0}\right) m\left(Z_{c+1}^{\prime}; \eta_{0}\right)\right]\\
			%
            & \overset{\text{Lem \ref{lem:expec_kernel_prod_bound}}}{\leq} \frac{c(s-c)s}{(2s - c)(2s-c-1)(c+1)} \cdot \E_{1, (c+1)^{\prime}}\left[m\left(Z_{1}; \eta_{0}\right) m\left(Z_{c+1}^{\prime}; \eta_{0}\right)\cdot \frac{\E_{D, D^{\prime}}\left[\kappa\left(x; Z_{1}, D\right)\kappa\left(x; Z_{c+1}^{\prime}, D^{\prime}\right) \; \middle| \; Z_{1}, Z_{c+1}^{\prime}\right]}{\E_{D, D^{\prime}}\left[\kappa\left(x; Z_{1}, D\right)\kappa\left(x; Z_{c+1}^{\prime}, D^{\prime}\right)\right]}\right]\\
            %
			& \overset{\text{Lem \ref{lem:kernel_prod_dirac_convergence}}}{\lesssim} 
            \frac{c(s-c)s}{(2s - c)(2s-c-1)(c+1)} \cdot \left(\mu_{0}^{1}\left(x\right) - \mu_{0}^{0}\left(x\right)\right)^2 + o(1)
		\end{aligned}
	\end{equation}
	% Applying the same principles to the third term we find a similar result.
	% \begin{equation}
	% 	\begin{aligned}
	% 		(C)
	% 		& = \E_{D, D^{\prime}}\left[\left(\sum_{i = c + 1}^{s} \kappa\left(x; Z_{i}, D\right) m\left(Z_{i}; \eta_{0}\right)\right)
 %            \left(\sum_{j = 1}^{c} \kappa\left(x; Z_{j}, D^{\prime}\right) m\left(Z_{j}; \eta_{0}\right)\right)\right]\\
	% 		%
	% 		& \lesssim \frac{c(s-c)}{s^2}\left(\mu_{0}^{1}\left(x\right) - \mu_{0}^{0}\left(x\right)\right)^2  + o(1)
	% 	\end{aligned}
	% \end{equation}
    Finally, for the third term, we can make the following observation.
	\begin{equation}
		\begin{aligned}
			(C)
			& = \E_{D, D^{\prime}}\left[\left(\sum_{i = c + 1}^{s} \kappa\left(x; Z_{i}, D\right) m\left(Z_{i}; \eta_{0}\right)\right)
            \left(\sum_{j = c + 1}^{s} \kappa\left(x; Z_{j}^{\prime}, D^{\prime}\right) m\left(Z_{j}^{\prime}; \eta_{0}\right)\right)\right] \\
			%
			& = \E_{D, D^{\prime}}\left[(s-c)^2 \kappa\left(x; Z_{c+1}, D\right)\kappa\left(x; Z_{c+1}^{\prime}, D^{\prime}\right)
			m\left(Z_{c+1}; \eta_{0}\right)  m\left(Z_{c+1}^{\prime}; \eta_{0}\right)\right] \\
			%
			& \overset{\text{Lem \ref{lem:expec_kernel_prod_bound}}}{\leq}
            \frac{2(s-c)^{3}}{(2s-c)^{2}(2s-c-1)} \cdot \E_{c+1}\left[m\left(Z_{c+1}; \eta_{0}\right)  m\left(Z_{c+1}^{\prime}; \eta_{0}\right)
            \cdot \frac{\E_{D, D^{\prime}}\left[\kappa\left(x; Z_{c+1}, D\right)\kappa\left(x; Z_{c+1}^{\prime}, D^{\prime}\right) \; \middle| \; Z_{c+1}, Z_{c+1}^{\prime}\right]}{\E_{D, D^{\prime}}\left[\kappa\left(x; Z_{c+1}, D\right)\kappa\left(x; Z_{c+1}^{\prime}, D^{\prime}\right)\right]}\right]\\
            %
            & \overset{\text{Lem \ref{lem:kernel_prod_dirac_convergence}}}{\lesssim} 
            \frac{2(s-c)}{(2s-c-1)} \cdot \left(\mu_{0}^{1}\left(x\right) - \mu_{0}^{0}\left(x\right)\right)^2 + o(1)
		\end{aligned}
	\end{equation}
	Thus, we find the desired result.
	\begin{equation}
		\begin{aligned}
			\Omega_{s}^{c}\left(x\right)
			& = (A) + 2\cdot (B) + (C) \\
			%
			& \lesssim 
            \left(\frac{c}{2s-c} + \frac{4(s-c)}{2s-c-1} + \frac{2(s-c)}{2s-c-1}\right) \cdot \left(\mu_{0}^{1}\left(x\right) - \mu_{0}^{0}\left(x\right)\right)^2
            + \frac{c}{2s-c} \cdot \frac{\overline{\sigma}^2_{\varepsilon}}{\mathfrak{p}\left(1 - \mathfrak{p}\right)}
            + o(1) \\
            %
            & \leq \frac{6s-5c}{2s-c-1} \cdot \left(\mu_{0}^{1}\left(x\right) - \mu_{0}^{0}\left(x\right)\right)^2
            + \frac{c}{2s-c} \cdot \frac{\overline{\sigma}^2_{\varepsilon}}{\mathfrak{p}\left(1 - \mathfrak{p}\right)}
            + o(1) 
		\end{aligned}
	\end{equation}
\end{proof}

\newpage 

\begin{boxD}
    \begin{lem}\label{lem:CATE_zeta_s1_ub}\mbox{}\\*
        {\color{red} LOREM IPSUM}
    \end{lem}
\end{boxD}

\begin{proof}[Proof of Lemma \ref{lem:CATE_zeta_s1_ub}]\mbox{}\\*
     \begin{equation}
         \begin{aligned}
            \zeta_{s}^{1}(x)
            & = \Var_{Z}\left(\E_{D}\left[\chi_{s,0}\left(x; \mathbf{D}\right) \, \middle| \, Z_{1} = Z\right]\right)
            = \Var_{Z}\left(\E_{D}\left[
                \sum_{i = 1}^{s}\kappa(x; Z_{i}, \mathbf{D}_{[s]}) 
                m(Z_{i}, \eta_{0})
            \, \middle| \, Z_{1} = Z\right]\right) \\
            %
            & = \Var_{Z}\Bigg(
                \E_{2:s}\left[\kappa(x; Z, \mathbf{D}_{[s]}) \cdot \beta\left(W, X\right) \cdot \varepsilon\right]
                + \E_{D}\left[\sum_{i = 1}^{s}\kappa(x; Z_{i}, \mathbf{D}_{[s]})m(Z_{i}, \eta_{0})
                \, \middle| \, X_{1} = X\right]
            \Bigg) \\
            %
            & = \Var_{Z}\Bigg(
                \E_{2:s}\left[\kappa(x; Z, \mathbf{D}_{[s]}) \cdot \beta\left(W, X\right) \cdot \varepsilon\right]\Bigg) 
                + \Var_{X}\Bigg(\E_{D}\left[\sum_{i = 1}^{s}\kappa(x; Z_{2}, \mathbf{D}_{[s]})m(Z_{i}, \eta_{0})
                \, \middle| \, X_{1} = X\right]
            \Bigg) \\
            %
            & \geq \Var_{Z}\Bigg(\E_{2:s}\left[\kappa(x; Z, \mathbf{D}_{[s]}) \cdot \beta\left(W, X\right) \cdot \varepsilon\right]\Bigg) 
            = \Var_{Z}\Bigg(\E_{2:s}\left[\kappa(x; Z, \mathbf{D}_{[s]})\right] \cdot \beta\left(W, X\right) \cdot \varepsilon \Bigg)\\
            %
            & = \E_{Z}\left[\left(\E_{2:s}\left[\kappa(x; Z, \mathbf{D}_{[s]})\right] \cdot \beta\left(W, X\right) \cdot \varepsilon\right)^2\right]
            - \left(\E_{Z}\left[\E_{2:s}\left[\kappa(x; Z, \mathbf{D}_{[s]})\right] \cdot \beta\left(W, X\right) \cdot \varepsilon\right]\right)^{2} \\
            %
            & = \E_{Z}\left[\left(\E_{2:s}\left[\kappa(x; Z, \mathbf{D}_{[s]})\right] \cdot \beta\left(W, X\right) \cdot \varepsilon\right)^2\right]
            = \E_{Z}\left[\left(\E_{2:s}\left[\kappa(x; Z, \mathbf{D}_{[s]})\right] \cdot \beta\left(W, X\right)\right)^2 \cdot \E\left[\varepsilon^{2} \, \middle| \, X\right]\right]\\
            %
            & = \E_{Z}\left[\E_{2:(2s-1)}\left[\kappa(x; Z, \mathbf{D}_{[2s - 1]})\right] \cdot \beta^{2}\left(W, X\right) \cdot \sigma^{2}(X)\right]\\
            %
            & = \frac{1}{2s} \cdot \E_{Z}\left[\beta^{2}\left(W, X\right) \cdot \sigma^{2}(X) \cdot 2s\E_{2:(2s-1)}\left[\kappa(x; Z, \mathbf{D}_{[2s - 1]})\right]\right]\\
            %
            & \gtrsim \frac{1}{2s} \cdot \left(\pi(x) \beta^{2}\left(1 , x\right) + \left(1-\pi(x)\right) \beta^{2}\left(0 , x\right) \right)\cdot \sigma^{2}(x) - o(s^{-1}) \quad 
            \text{for} \quad s \quad \text{sufficiently large}
         \end{aligned}
     \end{equation}
    {\color{red} Last step needs to be justified still. LOREM IPSUM}
\end{proof}

% \newpage
% \begin{lem}\label{lem:CATE_upsilon_s}\mbox{}\\*
% 	Let $D = \{Z_1, \dotsc, Z_{s_2}\}$ be a vector of i.i.d.\ random variables drawn from $Q$ for $s_2 > s_1$.
% 	Furthermore, let
% 	\begin{equation}
% 		\Upsilon_{s_1, s_2}\left(x\right)
% 		= \E\left[h_{s_1}\left(x; Z_1, \ldots,  Z_{s_1}\right) \cdot
% 			h_{s_2}\left(x; Z_1, \ldots,Z_{s_1}, \ldots, Z_{s_2}\right)\right].
% 	\end{equation}
% 	Then,
% 	\begin{equation}
% 		\Upsilon_{s_1, s_2}\left(x\right)
% 		\lesssim  2\left(\mu_{0}^{1}(x) - \mu_{0}^{0}(x)\right)^2 + \frac{\overline{\sigma}^2_{\varepsilon}}{\mathfrak{p}(1 - \mathfrak{p})} + o(1)
% 		\quad \text{as} \quad s_1, s_2 \rightarrow \infty
% 		\quad \text{with} \quad
% 		0 < \mathfrak{c} \leq s_1 / s_2 \leq 1 - \mathfrak{c} < 1.
% 	\end{equation}
% \end{lem}
% \hrule
% \begin{proof}[Proof of Lemma~\ref{lem:CATE_upsilon_s}]
% 	Consider first the following.
% 	\begin{equation}
% 		\begin{aligned}
% 			\Upsilon_{s_1, s_2}\left(x\right)
% 			& = \E\left[h_{s_1}\left(x; Z_1, \ldots,  Z_{s_1}\right) \cdot
% 			h_{s_2}\left(x; Z_1, \ldots,Z_{s_1}, \ldots, Z_{s_2}\right)\right]\\
% 			%
% 			& = \E_{D}\left[
% 				\left(\sum_{i = 1}^{s_1} \kappa(x; Z_{i}, D_{[s_1]}) m\left(Z_{i}; \eta_{0}\right)\right)
% 				\left(\sum_{j = 1}^{s_1} \kappa(x; Z_{j}, D) m\left(Z_{j}; \eta_{0}\right) 
% 				+ \sum_{j = s_1 + 1}^{s_2} \kappa(x; Z_{j}, D) m\left(Z_{j}; \eta_{0}\right)\right)
% 			\right]     \\
% 			%
% 			& = \underbrace{\E_{D}\left[\sum_{i = 1}^{s_1}\sum_{j = 1}^{s_1}\kappa(x; Z_{i}, D_{[s_1]})\kappa(x; Z_{j}, D) m\left(Z_{i}; \eta_{0}\right)m\left(Z_{j}; \eta_{0}\right)\right]}_{(A)}\\
% 			& \quad + \underbrace{\E_{D}\left[\sum_{i = 1}^{s_1}\sum_{j = s_1 + 1}^{s_2}\kappa(x; Z_{i}, D_{[s_1]})\kappa(x; Z_{j}, D) m\left(Z_{i}; \eta_{0}\right)m\left(Z_{j}; \eta_{0}\right)\right]}_{(B)}
% 		\end{aligned}
% 	\end{equation}
% 	Using this decomposition, we can make the following findings.
% 	\begin{equation}
% 		\begin{aligned}
% 			(A)
% 			& = \E_{D}\left[\sum_{i = 1}^{s_1}\sum_{j = 1}^{s_1}\kappa(x; Z_{i}, D_{[s_1]})\kappa(x; Z_{j}, D) m\left(Z_{i}; \eta_{0}\right)m\left(Z_{j}; \eta_{0}\right)\right] \\
% 			%
% 			& = \E_{D}\left[\sum_{i = 1}^{s_1} \kappa(x; Z_{i}, D_{[s_1]}) m^2\left(Z_{i}; \eta_{0}\right)\right] 
% 			= \E_{D}\left[m^2\left(Z_{1}; \eta_{0}\right) s_1 \kappa(x; Z_{1}, D_{[s_1]}) \right] \\
% 			%
% 			& = \E_{1}\left[m^2\left(Z_{1}; \eta_{0}\right) s_1 \E_{2:s_2}\left[\kappa(x; Z_{1}, D_{[s_1]})\right]\right]
% 			= \E_{1}\left[m^2\left(Z_{1}; \eta_{0}\right) s_1 \E_{2:s_1}\left[\kappa(x; Z_{1}, D_{[s_1]})\right]\right]\\
% 			%
% 			& \overset{\text{(Lem~\ref{lem:limit_res})}}{\lesssim} \left(\mu_{0}^{1}(x) - \mu_{0}^{0}(x)\right)^2 + \frac{\overline{\sigma}^2_{\varepsilon}}{\mathfrak{p}(1 - \mathfrak{p})} + o(1)
% 		\end{aligned}
% 	\end{equation}
% 	\begin{equation}
% 		\begin{aligned}
% 			(B)
% 			& = \E_{D}\left[\sum_{i = 1}^{s_1}\sum_{j = s_1 + 1}^{s_2}\kappa(x; Z_{i}, D_{[s_1]})\kappa(x; Z_{j}, D) m\left(Z_{i}; \eta_{0}\right)m\left(Z_{j}; \eta_{0}\right)\right] \\
% 			%
% 			& = \E_{D}\left[s_1(s_2 - s_1) \kappa(x; Z_{1}, D_{[s_1]})\kappa(x; Z_{s_2}, D) m\left(Z_{1}; \eta_{0}\right) m\left(Z_{s_2}; \eta_{0}\right)\right]\\
% 			%
% 			& \leq \frac{(s_2 - s_1)}{s_2}\E_{D}\left[\left|m\left(Z_{1}; \eta_{0}\right)\right| s_1 \kappa(x; Z_{1}, D_{[s_1]})\right]
% 			\E_{D}\left[\left|m\left(Z_{s_2}; \eta_{0}\right)\right| s_2\kappa(x; Z_{s_2}, D) \right]\\
% 			%
% 			& \lesssim \frac{(s_2 - s_1)}{s_2} \left(\mu_{0}^{1}(x) - \mu_{0}^{0}(x)\right)^2 + o(1)
% 		\end{aligned}
% 	\end{equation}
% 	Thus, we obtain the desired result.
% 	\begin{equation}
% 		\Upsilon_{s_1, s_2}\left(x\right)
% 		= (A) + (B)
% 		\lesssim  2\left(\mu_{0}^{1}(x) - \mu_{0}^{0}(x)\right)^2 + \frac{\overline{\sigma}^2_{\varepsilon}}{\mathfrak{p}(1 - \mathfrak{p})} + o(1)
% 	\end{equation}
% \end{proof}
% \hrule 

% \begin{lem}\label{lem:CATE_upsilon_sc}\mbox{}\\*
% 	Let $D = \{Z_1, \dotsc, Z_{s_2}\}$ be a vector of i.i.d.\ random variables drawn from $Q$ for $s_2 > s_1$.
% 	Let $D^{\prime} = \{Z_1, \dotsc, Z_{c}, Z_{c+1}^{\prime}, \dotsc,  Z_{s_1}^{\prime}\}$ where $Z_{c+1}^{\prime}, \dotsc,  Z_{s_1}^{\prime}$ are i.i.d.\ draws from $P$ that are independent of $D$.
% 	Furthermore, let
% 	\begin{equation}
% 		\Upsilon_{s_1, s_2}^{c}\left(x\right)
% 		= \E\left[h_{s_1}\left(x; Z_1, \ldots, Z_c, Z^{\prime}_{c+1}, \ldots,  Z^{\prime}_{s_1}\right) \cdot
% 			h_{s_2}\left(x; Z_1, \ldots, Z_{s_2}\right)\right].
% 	\end{equation}
% 	Then,
% 	\begin{equation}
% 		\begin{aligned}
% 			 & \Upsilon_{s_1, s_2}^{c}\left(x\right)
% 			\lesssim 4 \left(\mu_{0}^{1}(x) - \mu_{0}^{0}(x)\right)^2 + \frac{\sigma^2_{\varepsilon}(x)}{\mathfrak{p}(1 - \mathfrak{p})} + o(1) \\
% 			%
% 			 & \text{for} \quad s_1, s_2 \quad \text{sufficiently large}
% 			\quad \text{with} \quad
% 			0 < \mathfrak{c} \leq s_1 / s_2 \leq 1 - \mathfrak{c} < 1.
% 		\end{aligned}
% 	\end{equation}
% \end{lem}

% \hrule
% \begin{proof}[Proof of Lemma~\ref{lem:CATE_upsilon_sc}]
% 	\begin{equation}
% 		\begin{aligned}
% 			\Upsilon_{s_1, s_2}^{c}\left(x\right)
% 			& = \E\left[h_{s_1}\left(x; Z_1, \ldots, Z_c, Z^{\prime}_{c+1}, \ldots,  Z^{\prime}_{s_1}\right) \cdot
% 			h_{s_2}\left(x; Z_1, \ldots, Z_{s_2}\right)\right] \\
% 			%
% 			& = \E_{D, D^{\prime}}\left[
% 				\left(\sum_{i = 1}^{c}\kappa(x; Z_{i}, D_{[s_1]}^{\prime}) m\left(Z_{i}; \eta_{0}\right) 
% 				+ \sum_{i = c+1}^{s_1}\kappa(x; Z_{i}^{\prime}, D_{[s_1]}^{\prime}) m\left(Z_{i}^{\prime}; \eta_{0}\right)\right)
% 				\left(\sum_{j = 1}^{s_2} \kappa(x; Z_{j}, D) m\left(Z_{j}; \eta_{0}\right)\right)\right]\\
% 			%
% 			& = \underbrace{\E_{D, D^{\prime}}\left[\sum_{i = 1}^{c}\sum_{j = 1}^{c} \kappa(x; Z_{i}, D_{[s_1]}^{\prime})\kappa(x; Z_{j}, D) m\left(Z_{i}; \eta_{0}\right) m\left(Z_{j}; \eta_{0}\right)\right]}_{(A)} \\
% 			& \quad + \underbrace{\E_{D, D^{\prime}}\left[\sum_{i = 1}^{c}\sum_{j = c+1}^{s_2} \kappa(x; Z_{i}, D_{[s_1]}^{\prime})\kappa(x; Z_{j}, D) m\left(Z_{i}; \eta_{0}\right) m\left(Z_{j}; \eta_{0}\right)\right]}_{(B)} \\
% 			& \quad + \underbrace{\E_{D, D^{\prime}}\left[\sum_{i = c+1}^{s_1}\sum_{j = 1}^{c}\kappa(x; Z_{i}^{\prime}, D_{[s_1]}^{\prime}) \kappa(x; Z_{j}, D) m\left(Z_{i}^{\prime}; \eta_{0}\right) m\left(Z_{j}; \eta_{0}\right)\right]}_{(C)} \\
% 			& \quad + \underbrace{\E_{D, D^{\prime}}\left[\sum_{i = c+1}^{s_1}\sum_{j = c+1}^{s_2}\kappa(x; Z_{i}^{\prime}, D_{[s_1]}^{\prime}) \kappa(x; Z_{j}, D) m\left(Z_{i}^{\prime}; \eta_{0}\right) m\left(Z_{j}; \eta_{0}\right)\right]}_{(D)}
% 		\end{aligned}
% 	\end{equation}
% 	\newpage
% 	Now, considering the terms individually, we find the following.
% 	\begin{equation}
% 		\begin{aligned}
% 			(A)
% 			& = \E_{D, D^{\prime}}\left[c \kappa(x; Z_{1}, D_{[s_1]}^{\prime})\kappa(x; Z_{1}, D) m^2\left(Z_{1}; \eta_{0}\right)\right]
% 			= \frac{c}{s_2} \cdot \E_{1}\left[m^2\left(Z_{1}; \eta_{0}\right) s_2 \E_{2:s_2}\left[\kappa(x; Z_{1}, D_{[s_1]}^{\prime})\kappa(x; Z_{1}, D)\right] \right]\\
% 			%
% 			& \leq  \frac{c}{s_2} \cdot \E_{1}\left[m^2\left(Z_{1}; \eta_{0}\right) s_2 \E_{2:s_2}\left[\kappa(x; Z_{1}, D)\right] \right]
% 			\lesssim \frac{c}{s_2} \left(\left(\mu_{0}^{1}(x) - \mu_{0}^{0}(x)\right)^2 + \frac{\sigma^2_{\varepsilon}(x)}{\mathfrak{p}(1 - \mathfrak{p})}\right) + o(1)\\
% 		\end{aligned}
% 	\end{equation}
% 	Similarly, we find the following.
% 	\begin{equation}
% 		\begin{aligned}
% 			(B)
% 			& = \E_{D, D^{\prime}}\left[c (s_2 - c) \kappa(x; Z_{1}, D_{[s_1]}^{\prime})\kappa(x; Z_{c+1}, D) m\left(Z_{1}; \eta_{0}\right) m\left(Z_{c+1}; \eta_{0}\right)\right]\\
% 			%
% 			& = \frac{c (s_2 - c)}{s_1 s_2} \E_{D, D^{\prime}}\left[m\left(Z_{1}; \eta_{0}\right) m\left(Z_{c+1}; \eta_{0}\right) s_1 s_2 \kappa(x; Z_{1}, D_{[s_1]}^{\prime})\kappa(x; Z_{c+1}, D) \right]\\
% 			%
% 			& \leq \frac{c (s_2 - c)}{s_1 s_2} \E_{D, D^{\prime}}\left[\left|m\left(Z_{1}; \eta_{0}\right)\right|  s_1 \kappa(x; Z_{1}, D_{[s_1]}^{\prime})\right]
% 			\E_{D, D^{\prime}}\left[\left| m\left(Z_{c+1}; \eta_{0}\right) \right| s_2 \kappa(x; Z_{c+1}, D) \right] \\
% 			%
% 			& \lesssim \frac{c (s_2 - c)}{s_1 s_2} \left(\mu_{0}^{1}(x) - \mu_{0}^{0}(x)\right)^2 + o(1)
% 		\end{aligned}
% 	\end{equation}
% 	Applying the same argument to the third term, we find an analogous result.
% 	\begin{equation}
% 		\begin{aligned}
% 			(C)
% 			& = \E_{D, D^{\prime}}\left[(s_1 - c)c\kappa(x; Z_{c+1}^{\prime}, D_{[s_1]}^{\prime}) \kappa(x; Z_{1}, D) m\left(Z_{c+1}^{\prime}; \eta_{0}\right) m\left(Z_{1}; \eta_{0}\right)\right]\\
% 			%
% 			& \lesssim  \frac{c (s_1 - c)}{s_1 s_2} \left(\mu_{0}^{1}(x) - \mu_{0}^{0}(x)\right)^2 + o(1)
% 		\end{aligned}
% 	\end{equation}
% 	Finally, for the fourth term, we can make the following observation.
% 	\begin{equation}
% 		\begin{aligned}
% 			(D)
% 			& = \E_{D, D^{\prime}}\left[(s_1 - c)(s_2 - c)\kappa(x; Z_{c+1}^{\prime}, D_{[s_1]}^{\prime}) \kappa(x; Z_{c+1}, D) m\left(Z_{c+1}^{\prime}; \eta_{0}\right) m\left(Z_{c+1}; \eta_{0}\right)\right]\\
% 			%
% 			& = \frac{(s_1 - c)(s_2 - c)}{s_1 s_2}\E_{D, D^{\prime}}\left[m\left(Z_{c+1}^{\prime}; \eta_{0}\right) m\left(Z_{c+1}; \eta_{0}\right) s_1 s_2 \kappa(x; Z_{c+1}^{\prime}, D_{[s_1]}^{\prime}) \kappa(x; Z_{c+1}, D)\right]\\
% 			%
% 			& \lesssim  \frac{(s_1 - c)(s_2 - s_1)}{s_1 s_2} \left(\mu_{0}^{1}(x) - \mu_{0}^{0}(x)\right)^2 + o(1)
% 		\end{aligned}
% 	\end{equation}
% 	By combining these asymptotic bounds, we find the desired result.
% 	\begin{equation}
% 		\begin{aligned}
% 			\Upsilon_{s_1, s_2}^{c}\left(x\right)
% 			& = (A) + (B) + (C) + (D)
% 			\lesssim 4 \left(\mu_{0}^{1}(x) - \mu_{0}^{0}(x)\right)^2 + \frac{\sigma^2_{\varepsilon}(x)}{\mathfrak{p}(1 - \mathfrak{p})} + o(1)
% 		\end{aligned}
% 	\end{equation}
% \end{proof}