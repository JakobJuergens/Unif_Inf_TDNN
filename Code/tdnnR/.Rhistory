library{roxygen2}
library(roxygen2)
library(devtools)
install.packages("devtools")
library(devtools)
roxygenize
roxygenize()
roxygenise()
roxygenise()
use_gpl_license()
roxygenise()
usethis::use_testthat(3)
use_test()
install.packages("available")
roxygenise()
roxygenise()
available('tdnnR')
available::available('tdnnR')
roxygenise()
#' Calculate the distance between two points of interest
#'
#' @param x Point A of interest
#' @param y Point B of interest
#' @return A number.
dist <- function(x, y){
sqrt((x-y)^2)
}
dist(x = c(0,0,0), y = c(1,1,1))
#' Calculate the distance between two points of interest
#'
#' @param x Point A of interest
#' @param y Point B of interest
#' @return A number.
dist <- function(x, y){
sqrt(sum((x-y)^2))
}
dist(x = c(0,0,0), y = c(1,1,1))
dist(x = c(0,0,0), y = c(1,1,1))^2
roxygenise()
roxygenise()
roxygenise()
devtools::check()
devtools::check()
roxygenise()
roxygenise()
testthat::test_check()
testthat::test_package()
roxygenise()
roxygenise()
?choose
factor <-  1
factor*(2/1)
factor*(3/2)
factor*(2/1)*(3/2)
factor*(2/1)*(3/2)*(4/3)
s <- 3
s <- 5
n <- 10
choose(n-2, s-1)
choose(n-1, s-1)
res <- 0
factor <- 1
prefactor <- 1/choose(n,s)
for(i in 1:(n-s+1)){
index <- n-s+2-i
#res <- res + factor*data_sorted[index,1]
factor <- factor*(index/(index - s + 1))
}
factor
res <- 0
factor <- 1
prefactor <- 1/choose(n,s)
for(i in 1:(n-s+1)){
(index <- n-s+2-i)
#res <- res + factor*data_sorted[index,1]
(factor <- factor*(index/(index - s + 1)))
}
res <- 0
factor <- 1
prefactor <- 1/choose(n,s)
for(i in 1:(n-s+1)){
index <- n-s+2-i
#res <- res + factor*data_sorted[index,1]
factor <- factor*(index/(index - s + 1))
print(factor)
}
res <- 0
factor <- 1
prefactor <- 1/choose(n,s)
for(i in 1:(n-s+1)){
index <- n-s+2-i
#res <- res + factor*data_sorted[index,1]
factor <- factor*(index/(index - s + 1))
print(index)
print(factor)
}
res <- 0
factor <- 1
prefactor <- 1/choose(n,s)
for(i in 1:(n-s+1)){
index <- n-s+2-i
#res <- res + factor*data_sorted[index,1]
factor <- factor*((n-index)/(n-(index - s + 1)))
print(index)
print(factor)
}
res <- 0
factor <- 1
prefactor <- 1/choose(n,s)
for(i in 1:(n-s+1)){
index <- n-s+2-i
#res <- res + factor*data_sorted[index,1]
factor <- factor*((n-index)/(index - s + 1))
print(index)
print(factor)
}
res <- 0
factor <- 1
prefactor <- 1/choose(n,s)
for(i in 1:(n-s+1)){
index <- n-s+2-i
#res <- res + factor*data_sorted[index,1]
factor <- factor*((n-index)/(index))
print(index)
print(factor)
}
res <- 0
factor <- 1
prefactor <- 1/choose(n,s)
for(i in 1:(n-s+1)){
index <- n-s+2-i
#res <- res + factor*data_sorted[index,1]
factor <- factor*((n-index)/(n - index - s + 1))
print(index)
print(factor)
}
res <- 0
factor <- 1
prefactor <- 1/choose(n,s)
for(i in 1:(n-s+1)){
index <- n-s+2-i
#res <- res + factor*data_sorted[index,1]
factor <- factor*((n-index)/(n - index - s + 1))
print(index)
print(factor)
}
# Calculate DNN estimator
res <- 0
factor <- 1
prefactor <- 1/choose(n,s)
for(i in 1:(n-s+1)){
index <- n-s+2-i
#res <- res + factor*data_sorted[index,1]
factor <- factor*((n-index)/(n - index - s + 2))
print(index)
print(factor)
}
choose(n-1, s-1)
res <- 0
factor <- 1
prefactor <- 1/choose(n,s)
for(i in 1:(n-s+1)){
print(factor)
index <- n-s+2-i
#res <- res + factor*data_sorted[index,1]
factor <- factor*((n-index)/(n - index - s + 2))
}
choose(9, 4)
choose(n - n + s - 1, s-1)
choose(n - n + s - 2, s-1)
choose(n - n + s, s-1)
factor <- 1
prefactor <- 1/choose(n,s)
for(i in 1:(n-s+1)){
print(factor)
index <- n-s+2-i
#res <- res + factor*data_sorted[index,1]
factor <- factor*((n-index+1)/(n - index - s + 2))
}
roxygen2::roxygenise()
roxygenize
library(roxygen2)
roxygenise()
styler:::style_active_file()
styler:::style_active_file()
styler:::style_active_file()
styler:::style_active_file()
roxygenise()
testthat::setup()
testthat::setup()
x <- c(0,0)
data <- matrix(data = c(0,1,2,5,1,2), ncol = 1)
as.vector(data)
n <- length(Y)
DNN(x, data, s = 2, presorted = TRUE)
data <- matrix(data = c(19,1,2,5,1,2), ncol = 1)
DNN(x, data, s = 2, presorted = TRUE)
DNN(x, data, s = 3, presorted = TRUE)
DNN(x, data, s = 4, presorted = TRUE)
DNN(x, data, s = 6, presorted = TRUE)
install.packages("philentropy")
?philent
?philentropy::euclidean
x = c(1,2,3)
y = matrix(data = rand(12), nrow = 3)
y = matrix(data = rnorm(12), nrow = 3)
philentropy::euclidean(x, y[1,-1])
philentropy::euclidean(x, y[1,-1], testNA = FALSE)
data <- y
dist_ranks <- order(unlist(purrr::map(.x = data,
.f = ~ philentropy::euclidean(x, .x[,-1], testNA = FALSE))))
dist_ranks <- order(unlist(purrr::map(.x = 1:n,
.f = ~ philentropy::euclidean(x, .x[.x,-1], testNA = FALSE))))
n = nrow(data)
dist_ranks <- order(unlist(purrr::map(.x = 1:n,
.f = ~ philentropy::euclidean(x, .x[.x,-1], testNA = FALSE))))
dist_ranks <- order(unlist(purrr::map(.x = 1:n,
.f = ~ philentropy::euclidean(x, data[.x,-1], testNA = FALSE))))
return(data[dist_ranks])
data[dist_ranks]
data[dist_ranks,]
styler:::style_active_file()
devtools::load_all()
DNN(x, data, s =2)
data <- matrix(data = rnorm(4*1000, sd = 10), nrow = 1000)
DNN(x, data, 10)
devtools::load_all()
DNN(x, data, 10)
DNN(x, data, 10)
DNN(x, data, 100)
DNN(x, data, 1000)
DNN(x, data, 1)
DNN(x, data, 10)
DNN(x, data, 20)
data <- matrix(data = rnorm(4*10000, sd = 10), nrow = 10000)
DNN(x, data, 20)
data[,1] <- data[,2]+data[,3]+data[,4]
DNN(x, data, 20)
sum(x)
DNN(x, data, 2)
DNN(x, data, 200)
DNN(x, data, 50)
TDNN(x, data, 50, 20)
devtools::load_all()
TDNN(x, data, 50, 20)
TDNN(x, data, 5, 2)
devtools::load_all()
TDNN(x, data, 5, 2)
devtools::load_all()
TDNN(x, data, 5, 2)
devtools::load_all()
TDNN(x, data, 5, 2)
styler:::style_active_file()
devtools::load_all()
TDNN(x, data, 5, 2, verbose = TRUE)
devtools::load_all()
TDNN(x, data, 5, 2, verbose = TRUE)
devtools::load_all()
TDNN(x, data, 5, 2, verbose = TRUE)
devtools::load_all()
TDNN(x, data, 5, 2, verbose = TRUE)
devtools::load_all()
TDNN(x, data, 5, 2, verbose = TRUE)
devtools::load_all()
TDNN(x, data, 5, 2, verbose = TRUE)
devtools::load_all()
devtools::load_all()
DNN(x, data, 50)
DNN(x, data, 500)
DNN(x, data, 5)
devtools::load_all()
TDNN(x, data, 5, 2, verbose = TRUE)
devtools::load_all()
TDNN(x, data, 5, 2, verbose = TRUE)
devtools::load_all()
TDNN(x, data, 5, 2, verbose = TRUE)
devtools::load_all()
TDNN(x, data, 5, 2, verbose = TRUE)
devtools::load_all()
TDNN(x, data, 5, 2, verbose = TRUE)
devtools::load_all()
TDNN(x, data, 5, 2, verbose = TRUE)
devtools::load_all()
TDNN(x, data, 5, 2, verbose = TRUE)
devtools::load_all()
TDNN(x, data, 5, 2, verbose = TRUE)
devtools::load_all()
TDNN(x, data, 5, 2, verbose = TRUE)
devtools::load_all()
TDNN(x, data, 5, 2, verbose = TRUE)
devtools::load_all()
TDNN(x, data, 5, 2, verbose = TRUE)
devtools::load_all()
TDNN(x, data, 5, 2, verbose = TRUE)
devtools::load_all()
TDNN(x, data, 5, 2, verbose = TRUE)
devtools::load_all()
TDNN(x, data, 5, 2, verbose = TRUE)
devtools::load_all()
TDNN(x, data, 5, 2, verbose = TRUE)
TDNN(x, data, 5, 2)
devtools::load_all()
TDNN(x, data, 5, 2)
TDNN(x, data, 10, 2)
TDNN(x, data, 10, 2, verbose = TUE)
TDNN(x, data, 10, 2, verbose = TRUE)
TDNN(x, data, 10, 5, verbose = TRUE)
View(data)
data2 <- pre_sort(x, data = data)
View(data2)
TDNN(x, data, 10, 9, verbose = TRUE)
TDNN(x, data2, 10, 9, verbose = TRUE)
TDNN(x, data2, 10, 2, verbose = TRUE)
TDNN(x, data2, 5, 2, verbose = TRUE)
TDNN(x, data2, 2, 5, verbose = TRUE)
DNN(x = x, data = data2, s = 5)
DNN(x = x, data = data2, s = 10)
DNN(x = x, data = data2, s = 100)
DNN(x = x, data = data2, s = 200)
DNN(x = x, data = data2, s = 100)
DNN(x = x, data = data2, s = 5)
DNN(x = x, data = data2, s = 2)
w1 <- -1.1876262
w2 <- 2.187626
w2*4.081139 + w1*2.379591
devtools::load_all()
TDNN(x, data2, 2, 5, verbose = TRUE)
devtools::load_all()
TDNN(x, data2, 2, 5, verbose = TRUE)
devtools::load_all()
TDNN(x, data2, 2, 5, verbose = TRUE)
devtools::load_all()
TDNN(x, data2, 2, 5, verbose = TRUE)
devtools::load_all()
TDNN(x, data2, 2, 5, verbose = TRUE)
devtools::load_all()
TDNN(x, data2, 2, 5, verbose = TRUE)
devtools::load_all()
TDNN(x, data2, 2, 5, verbose = TRUE)
devtools::load_all()
TDNN(x, data2, 2, 5, verbose = TRUE)
devtools::load_all()
TDNN(x, data2, 2, 5, verbose = TRUE)
is.atrix
is.matrix
library(roxygen2)
roxygenise()
styler:::style_active_file()
styler:::style_active_file()
styler:::style_active_file()
devtools::install()
is.integer(5)
s1 = 5
s2 = 7
(all(c(s1,s2)%%1==0)
)
styler:::style_active_file()
devtools::install()
styler:::style_active_file()
styler:::style_active_file()
devtools::install()
library(devtools)
install.packages("devtools")
devtools::build()
library(roxygen2)
devtools::build()
roxygen2::roxygenise()
devtools::build()
?sweep
# General Setup
n_obs <- 10000
# Generate Covariates
cov_dim <- 2
cov_mat <- matrix(data = runif(n = n_obs*cov_dim, 0, 1), nrow = n_obs, ncol = cov_dim)
# Calculate Response Values
responses <- rep(NA, times = n_obs)
reg_f <- function(covariates){
return(sum(cos(5*covariates)))
}
htscty_f <- function(covariates){
return(0.5*abs(sum(covariates)))
}
reg_vals <- unlist(
purrr::map(.f = ~ reg_f(cov_mat[.x, ]), .x = 1:n_obs))
responses <- unlist(
purrr::map(.f = ~ reg_f(cov_mat[.x, ] + rnorm(n = 1, mean = 0, sd = htscty_f(cov_mat[.x, ]))),
.x = 1:n_obs)
)
x <- c(0.5,0.5)
dists <- sweep(cov_mat, 2, x)
View(dists)
View(cov_mat)
View(cov_mat)
dists <- rowsum(sweep(data[,-1], 2, x))^2
dists <- rowsum((sweep(data[,-1], 2, x))^2)
data <- cov_mat
dists <- rowsum((sweep(data[,-1], 2, x))^2)
sweep(data[,-1], 2, x)
dists <- rowsum((sweep(data, 2, x))^2)
(sweep(data, 2, x))
dists <- rowsum(sweep(data, 2, x))
dists <- rowSums(sweep(data, 2, x))
dists <- rowSums((sweep(data, 2, x))^2
dist_ranks <- order(unlist(purrr::map(
dists <- rowSums((sweep(data, 2, x)^2)
dist_ranks <- order(unlist(purrr::map(
dists <- rowSums((sweep(data, 2, x)^2))
dists <- sqrt(rowSums((sweep(data, 2, x)^2)))
devtools::build()
?order
?order
devtools::build()
devtools::build()
devtools::build()
?sweep
devtools::build()
devtools::build()
devtools::build()
devtools::build()
devtools::load_all()
devtools::build()
devtools::build()
devtools::build()
roxygen2::roxygenise()
devtools::build()
devtools::build()
library(tidyverse)
library(patchwork)
library(parallel)
library(metR)
n_obs <- 10000
n_reps <- 10000
cov_dim <- 2
reg_f <- function(covariates) {
# return(1)
return(sum(cos(5 * covariates)))
}
htscty_f <- function(covariates) {
# return(0)
return(0.25 * abs(sum(covariates^2)))
}
devtools::load_all()
dat <- reg_data(n_obs = 10000, cov_dim = 2)
View(dat)
